<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ECNOVA ‚Äî Execution as Trust</title>
  <meta name="description" content="ECNOVA ‚Äî Execution as Trust. Time-as-Proof Protocol on Solana. Minimal, calm neon, multilingual site with Buy section and Roadmap." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    /* ==============================
       ECNOVA ¬∑ Full Website v2 (single-file)
       - Dark time, neon trust
       - RU / EN / IT with JS switch (no reload)
       ============================== */
    :root{
      --bg:#0e0e0e; --text:#ffffff; --muted:#d0d0d0;
      --accent:#00ffcc; --purple:#7d3cff;
      --card:#151515; --stroke:#242424;
      --radius:16px; --shadow:0 10px 30px rgba(0,0,0,0.35);
      --glow:0 0 20px rgba(0,255,204,0.55);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      background:var(--bg);
      font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial;
      line-height:1.6;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      background-image:
        radial-gradient(1200px 520px at 50% -12%, rgba(0,255,204,0.15), rgba(0,255,204,0) 60%),
        radial-gradient(900px 360px at 90% -18%, rgba(125,60,255,0.12), rgba(125,60,255,0) 60%);
      background-repeat:no-repeat;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    .container{width:min(1150px, 92vw); margin:0 auto}

    /* Header */
    header{
      position:sticky; top:0; z-index:50; backdrop-filter:blur(8px);
      background:rgba(14,14,14,0.72); border-bottom:1px solid var(--stroke);
    }
    .nav{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:14px 0}
    .logo{font-weight:700; letter-spacing:.5px; font-size:20px}
    .logo .dot{color:var(--accent)}
    nav ul{display:flex; gap:18px; list-style:none; padding:0; margin:0}
    nav a{color:var(--text); padding:8px 10px; border-radius:10px}
    nav a:hover{background:rgba(255,255,255,0.06); text-decoration:none}
    .lang{display:flex; gap:8px}
    .lang button{
      background:transparent; color:var(--text); border:1px solid var(--stroke);
      padding:6px 10px; border-radius:10px; cursor:pointer;
      transition:border-color .2s ease, box-shadow .2s ease, color .2s ease;
    }
    .lang button.active{border-color:var(--accent); color:var(--accent); box-shadow:0 0 20px rgba(0,255,204,0.25)}

    /* Hero */
    .hero{position:relative; padding:72px 0 34px; border-bottom:1px solid var(--stroke);
      background: radial-gradient(1600px 360px at 50% -70px, rgba(125,60,255,0.12), transparent 70%),
                  radial-gradient(1400px 480px at 50% -30px, rgba(0,255,204,0.18), transparent 70%);}
    .hero h1{margin:0 0 8px; font-size:clamp(28px,6vw,44px); text-shadow:0 0 10px var(--accent)}
    .hero p.lead{color:var(--muted); margin:0 0 18px; font-size:clamp(16px,3.4vw,18px)}
    .actions{display:flex; gap:12px; flex-wrap:wrap}
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:12px 16px; border-radius:12px; border:1px solid var(--accent);
      color:#0e0e0e; background:var(--accent); font-weight:700; letter-spacing:.2px;
      transition:transform .06s ease, box-shadow .25s ease, background .25s ease, color .25s ease; text-decoration:none;
    }
    .btn:hover{transform:translateY(-1px); box-shadow:var(--glow)}
    .btn.secondary{background:transparent; color:var(--text)}
    .btn.secondary:hover{box-shadow:var(--glow)}
    .hero .motto{margin-top:18px; color:var(--muted); font-size:14px; opacity:0.9}

    /* Sections */
    section{padding:46px 0; border-bottom:1px solid var(--stroke)}
    section:last-of-type{border-bottom:none}
    .section-title{margin:0 0 12px; font-size:clamp(22px,4.8vw,30px); text-shadow:0 0 10px var(--accent)}
    .card{
      background:var(--card); border:1px solid var(--stroke); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow);
    }
    .grid-2{display:grid; grid-template-columns:1.1fr 0.9fr; gap:18px}
    .mini-links{display:flex; flex-wrap:wrap; gap:10px; margin-top:10px}
    .mini-links a{color:var(--muted); border:1px solid var(--stroke); border-radius:10px; padding:6px 10px}
    .mini-links a:hover{color:var(--accent); border-color:var(--accent)}

    /* Footer */
    footer{padding:28px 0 34px; color:var(--muted)}
    .footer-row{display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap}
    .social{display:flex; gap:14px; flex-wrap:wrap}
    .footer-phrase{margin-top:8px; color:var(--muted); opacity:0.9}

    /* Responsive */
    @media (max-width: 900px){
      .grid-2{grid-template-columns:1fr}
      nav ul{display:none}
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="logo">ECNOVA<span class="dot">.</span></div>
      <nav aria-label="Primary">
        <ul>
          <li><a href="#home" data-i18n="nav.home" data-keep-lang="true">–ì–ª–∞–≤–Ω–∞—è</a></li>
          <li><a href="#about" data-i18n="nav.about" data-keep-lang="true">–û –ø—Ä–æ–µ–∫—Ç–µ</a></li>
          <li><a href="#invest" data-i18n="nav.invest" data-keep-lang="true">–ü–æ–∫—É–ø–∫–∏</a></li>
          <li><a href="#roadmap" data-i18n="nav.roadmap" data-keep-lang="true">Roadmap</a></li>
          <li><a href="#contacts" data-i18n="nav.contacts" data-keep-lang="true">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
        </ul>
      </nav>
      <div class="lang" aria-label="Language switcher">
        <button type="button" class="active" data-lang="ru" aria-pressed="true">RU</button>
        <button type="button" data-lang="en" aria-pressed="false">EN</button>
        <button type="button" data-lang="it" aria-pressed="false">IT</button>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section id="home" class="hero">
    <div class="container">
      <h1 data-i18n="hero.title">ECNOVA ‚Äî Execution as Trust</h1>
      <p class="lead" data-i18n="hero.subtitle">Time-as-Proof Protocol on Solana.</p>
      <div class="actions">
        <a class="btn secondary" href="#about" data-i18n="hero.cta.learn" data-keep-lang="true">Learn More</a>
        <a class="btn" id="buy-now" href="buy.html" data-i18n="hero.cta.buy" data-keep-lang="true">Buy Now</a>
      </div>
      <p class="motto" data-i18n="hero.motto">We don‚Äôt chase trends ‚Äî we grow in time.</p>
    </div>
  </section>

  <!-- About -->
  <section id="about">
    <div class="container">
      <h2 class="section-title" data-i18n="about.title">About ECNOVA</h2>
      <div class="card">
        <p data-i18n="about.text">
          We build a mechanism of time, not a financial pyramid. ECNOVA is a space where execution becomes trust, and time becomes value.
        </p>
      </div>
    </div>
  </section>

  <!-- Invest / Buy -->
  <section id="invest">
    <div class="container">
      <h2 class="section-title" data-i18n="invest.title">Quiet Start. Limited Liquidity. Real Time.</h2>
      <div class="card">
        <p data-i18n="invest.p1">ECNOVA launches softly and deliberately.</p>
        <p data-i18n="invest.p2">Liquidity in pairs is small ‚Äî it‚Äôs not a bug, it‚Äôs deliberate scarcity.</p>
        <p data-i18n="invest.p3">Those who buy now are early holders who value time over speculation.</p>
        <p data-i18n="invest.p4">We make no promises of growth or yields. Only participation and trust.</p>

        <div class="actions" style="margin-top:6px">
          <a class="btn" href="buy.html" data-i18n="invest.cta" data-keep-lang="true">üí± Buy ECNOVA</a>
        </div>

        <p style="margin-top:10px" data-i18n="invest.signature">If you understand it ‚Äî you can buy. If not ‚Äî you can wait. Time will show.</p>

        <div class="mini-links">
          <a href="https://jup.ag/tokens/7jScap4a4kzaZBz4zxDigGcEGKPovruWhRixxZUmGcoM" target="_blank" rel="noopener" data-i18n="mini.jup">View on Jupiter</a>
          <a href="https://raydium.io/liquidity-pools/?sort_by=liquidity&token=7jScap4a4kzaZBz4zxDigGcEGKPovruWhRixxZUmGcoM" target="_blank" rel="noopener" data-i18n="mini.ray">Raydium Pool</a>
          <a href="https://www.orca.so/pools?tokens=7jScap4a4kzaZBz4zxDigGcEGKPovruWhRixxZUmGcoM" target="_blank" rel="noopener" data-i18n="mini.orca">Orca Pool</a>
          <a href="https://solscan.io/token/7jScap4a4kzaZBz4zxDigGcEGKPovruWhRixxZUmGcoM" target="_blank" rel="noopener" data-i18n="mini.expl">Explorer</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Roadmap -->
  <section id="roadmap">
    <div class="container">
      <h2 class="section-title" data-i18n="roadmap.title">ECNOVA Roadmap 2026 ‚Äì 2028</h2>
      <div class="card">
        <p data-i18n="roadmap.desc">
          A three-year trajectory from a manual start to an autonomous DAO with licensed time technology. The plan balances engineering realism and calm growth.
        </p>
        <div class="actions">
          <a class="btn" href="/docs/ECNOVA_Roadmap_2026-2028.pdf" target="_blank" rel="noopener" data-i18n="roadmap.btn" data-keep-lang="true">üìò Open Full Roadmap</a>
          <a class="btn secondary" href="/docs/" target="_blank" rel="noopener" data-i18n="roadmap.repo">Open /docs/ section</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer / Contacts -->
  <footer id="contacts">
    <div class="container footer-row">
      <div data-i18n="footer.copy">¬© ECNOVA Protocol, 2025 ‚Äì Execution as Trust.</div>
      <div class="social">
        <a href="https://t.me/EcnovaDAO" target="_blank" rel="noopener" data-i18n="footer.tg">Telegram</a>
        <a href="https://x.com/EcnovaDAO" target="_blank" rel="noopener" data-i18n="footer.x">X / Twitter</a>
        <a href="/whitepaper.pdf" target="_blank" rel="noopener" data-i18n="footer.wp">White Paper</a>
        <a href="mailto:ecnova.project@gmail.com" data-i18n="footer.contact">Contact</a>
      </div>
    </div>
    <div class="container">
      <div class="footer-phrase" data-i18n="footer.phrase">‚ÄúYou can support ECNOVA ‚Äî no promises, only trust.‚Äù</div>
    </div>
  </footer>

  <script>
    // ===== Multilingual switcher (RU / EN / IT), persistent and link-aware =====
    const STORAGE_KEY = 'ecnova_lang';
    const $ = (sel, ctx=document) => ctx.querySelector(sel);
    const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));

    // Translations dictionary
    const t = {
      en: {
        'nav.home':'Home','nav.about':'About','nav.invest':'Invest','nav.roadmap':'Roadmap','nav.contacts':'Contacts',
        'hero.title':'ECNOVA ‚Äî Execution as Trust','hero.subtitle':'Time-as-Proof Protocol on Solana.',
        'hero.cta.learn':'Learn More','hero.cta.buy':'Buy Now','hero.motto':'We don‚Äôt chase trends ‚Äî we grow in time.',
        'about.title':'About ECNOVA',
        'about.text':'We build a mechanism of time, not a financial pyramid. ECNOVA is a space where execution becomes trust, and time becomes value.',
        'invest.title':'Quiet Start. Limited Liquidity. Real Time.',
        'invest.p1':'ECNOVA launches softly and deliberately.',
        'invest.p2':'Liquidity in pairs is small ‚Äî it‚Äôs not a bug, it‚Äôs deliberate scarcity.',
        'invest.p3':'Those who buy now are early holders who value time over speculation.',
        'invest.p4':'We make no promises of growth or yields. Only participation and trust.',
        'invest.cta':'üí± Buy ECNOVA',
        'invest.signature':'If you understand it ‚Äî you can buy. If not ‚Äî you can wait. Time will show.',
        'mini.jup':'View on Jupiter','mini.ray':'Raydium Pool','mini.orca':'Orca Pool','mini.expl':'Explorer',
        'roadmap.title':'ECNOVA Roadmap 2026 ‚Äì 2028',
        'roadmap.desc':'A three-year trajectory from a manual start to an autonomous DAO with licensed time technology. The plan balances engineering realism and calm growth.',
        'roadmap.btn':'üìò Open Full Roadmap',
        'roadmap.repo':'Open /docs/ section',
        'footer.copy':'¬© ECNOVA Protocol, 2025 ‚Äì Execution as Trust.',
        'footer.tg':'Telegram','footer.x':'X / Twitter','footer.wp':'White Paper','footer.contact':'Contact',
        'footer.phrase':'‚ÄúYou can support ECNOVA ‚Äî no promises, only trust.‚Äù'
      },
      ru: {
        'nav.home':'–ì–ª–∞–≤–Ω–∞—è','nav.about':'–û –ø—Ä–æ–µ–∫—Ç–µ','nav.invest':'–ü–æ–∫—É–ø–∫–∏','nav.roadmap':'Roadmap','nav.contacts':'–ö–æ–Ω—Ç–∞–∫—Ç—ã',
        'hero.title':'ECNOVA ‚Äî Execution as Trust','hero.subtitle':'Time-as-Proof Protocol on Solana.',
        'hero.cta.learn':'–ü–æ–¥—Ä–æ–±–Ω–µ–µ','hero.cta.buy':'–ö—É–ø–∏—Ç—å','hero.motto':'–ú—ã –Ω–µ –≥–æ–Ω—è–µ–º—Å—è –∑–∞ —Ç—Ä–µ–Ω–¥–∞–º–∏ ‚Äî –º—ã —Ä–∞—Å—Ç—ë–º –≤–æ –≤—Ä–µ–º–µ–Ω–∏.',
        'about.title':'–û –ø—Ä–æ–µ–∫—Ç–µ ECNOVA',
        'about.text':'–ú—ã —Å—Ç—Ä–æ–∏–º –º–µ—Ö–∞–Ω–∏–∑–º –≤—Ä–µ–º–µ–Ω–∏, –∞ –Ω–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –ø–∏—Ä–∞–º–∏–¥—É. ECNOVA ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –≥–¥–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ–≤–µ—Ä–∏–µ, –∞ –≤—Ä–µ–º—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ü–µ–Ω–Ω–æ—Å—Ç—å—é.',
        'invest.title':'–¢–∏—Ö–∏–π —Å—Ç–∞—Ä—Ç. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å. –ù–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è.',
        'invest.p1':'ECNOVA –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –º—è–≥–∫–æ –∏ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ.',
        'invest.p2':'–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –≤ –ø–∞—Ä–∞—Ö –Ω–µ–≤–µ–ª–∏–∫–∞ ‚Äî —ç—Ç–æ –Ω–µ –æ—à–∏–±–∫–∞, –∞ –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç.',
        'invest.p3':'–¢–µ, –∫—Ç–æ –ø–æ–∫—É–ø–∞–µ—Ç —Å–µ–π—á–∞—Å, ‚Äî –ø–µ—Ä–≤—ã–µ –¥–µ—Ä–∂–∞—Ç–µ–ª–∏, —Ü–µ–Ω—è—â–∏–µ –≤—Ä–µ–º—è, –∞ –Ω–µ —Å–ø–µ–∫—É–ª—è—Ü–∏–∏.',
        'invest.p4':'–ú—ã –Ω–µ –æ–±–µ—â–∞–µ–º —Ä–æ—Å—Ç–æ–≤ –∏ –¥–æ—Ö–æ–¥–æ–≤. –¢–æ–ª—å–∫–æ —É—á–∞—Å—Ç–∏–µ –∏ –¥–æ–≤–µ—Ä–∏–µ.',
        'invest.cta':'üí± –ö—É–ø–∏—Ç—å ECNOVA',
        'invest.signature':'–ï—Å–ª–∏ –≤—ã —ç—Ç–æ –ø–æ–Ω–∏–º–∞–µ—Ç–µ ‚Äî –º–æ–∂–µ—Ç–µ –∫—É–ø–∏—Ç—å. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –º–æ–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å. –í—Ä–µ–º—è –ø–æ–∫–∞–∂–µ—Ç.',
        'mini.jup':'–û—Ç–∫—Ä—ã—Ç—å –Ω–∞ Jupiter','mini.ray':'–ü—É–ª Raydium','mini.orca':'–ü—É–ª Orca','mini.expl':'Explorer',
        'roadmap.title':'ECNOVA Roadmap 2026 ‚Äì 2028',
        'roadmap.desc':'–¢—Ä—ë—Ö–ª–µ—Ç–Ω—è—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è –æ—Ç —Ä—É—á–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –∫ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π DAO —Å –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π –≤—Ä–µ–º–µ–Ω–∏. –ü–ª–∞–Ω –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–π —Ä–µ–∞–ª–∏–∑–º –∏ —Å–ø–æ–∫–æ–π–Ω—ã–π —Ä–æ—Å—Ç.',
        'roadmap.btn':'üìò –û—Ç–∫—Ä—ã—Ç—å –ø–æ–ª–Ω—ã–π Roadmap',
        'roadmap.repo':'–û—Ç–∫—Ä—ã—Ç—å —Ä–∞–∑–¥–µ–ª /docs/',
        'footer.copy':'¬© ECNOVA Protocol, 2025 ‚Äì Execution as Trust.',
        'footer.tg':'Telegram','footer.x':'X / Twitter','footer.wp':'White Paper','footer.contact':'–ö–æ–Ω—Ç–∞–∫—Ç—ã',
        'footer.phrase':'¬´–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å ECNOVA ‚Äî –±–µ–∑ –æ–±–µ—â–∞–Ω–∏–π, –Ω–æ —Å –¥–æ–≤–µ—Ä–∏–µ–º.¬ª'
      },
      it: {
        'nav.home':'Home','nav.about':'About','nav.invest':'Invest','nav.roadmap':'Roadmap','nav.contacts':'Contatti',
        'hero.title':'ECNOVA ‚Äî Execution as Trust','hero.subtitle':'Time-as-Proof Protocol on Solana.',
        'hero.cta.learn':'Scopri di pi√π','hero.cta.buy':'Acquista ora','hero.motto':'Non inseguiamo le mode ‚Äî cresciamo nel tempo.',
        'about.title':'Informazioni su ECNOVA',
        'about.text':'Costruiamo un meccanismo del tempo, non una piramide finanziaria. ECNOVA √® uno spazio in cui l‚Äôesecuzione diventa fiducia e il tempo diventa valore.',
        'invest.title':'Avvio silenzioso. Liquidit√† limitata. Tempo reale.',
        'invest.p1':'ECNOVA parte in modo graduale e consapevole.',
        'invest.p2':'La liquidit√† nelle coppie √® ridotta ‚Äî non √® un errore, √® una scarsit√† intenzionale.',
        'invest.p3':'Chi compra ora √® un early holder che d√† valore al tempo, non alla speculazione.',
        'invest.p4':'Non promettiamo crescite o rendimenti. Solo partecipazione e fiducia.',
        'invest.cta':'üí± Acquista ECNOVA',
        'invest.signature':'Se lo capisci ‚Äî puoi acquistare. Se no ‚Äî puoi aspettare. Il tempo lo dir√†.',
        'mini.jup':'Vedi su Jupiter','mini.ray':'Pool Raydium','mini.orca':'Pool Orca','mini.expl':'Explorer',
        'roadmap.title':'ECNOVA Roadmap 2026 ‚Äì 2028',
        'roadmap.desc':'Un percorso triennale da un avvio manuale a una DAO autonoma con tecnologia del tempo sotto licenza. Il piano bilancia realismo ingegneristico e crescita pacata.',
        'roadmap.btn':'üìò Apri la Roadmap completa',
        'roadmap.repo':'Apri la sezione /docs/',
        'footer.copy':'¬© ECNOVA Protocol, 2025 ‚Äì Execution as Trust.',
        'footer.tg':'Telegram','footer.x':'X / Twitter','footer.wp':'White Paper','footer.contact':'Contatti',
        'footer.phrase':'‚ÄúPuoi sostenere ECNOVA ‚Äî senza promesse, solo fiducia.‚Äù'
      }
    };

    function setLang(lang){
      const active = t[lang] ? lang : 'ru';
      document.documentElement.setAttribute('lang', active);
      // Update texts
      $$('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (t[active][key]) el.textContent = t[active][key];
      });
      // Toggle active buttons
      $$('.lang button').forEach(btn => {
        const isActive = btn.getAttribute('data-lang') === active;
        btn.classList.toggle('active', isActive);
        btn.setAttribute('aria-pressed', isActive ? 'true' : 'false');
      });
      // Persist + reflect in URL
      try { localStorage.setItem('ecnova_lang', active); } catch(e){}
      const url = new URL(window.location.href);
      url.searchParams.set('lang', active);
      history.replaceState({}, '', url);
      // Refresh internal links to keep ?lang=
      updateLinks(active);
    }

    function updateLinks(lang){
      $$('a[data-keep-lang="true"]').forEach(a => {
        try{
          const href = a.getAttribute('href') || '';
          if (href.startsWith('#')) {
            // Anchor in the same page: keep only ?lang in address bar; href remains anchor
            return;
          }
          // Internal relative link (e.g., buy.html) -> append ?lang
          const isExternal = /^https?:\/\//i.test(href);
          if (!isExternal) {
            const url = new URL(href, window.location.origin);
            url.searchParams.set('lang', lang);
            a.setAttribute('href', url.pathname + url.search + url.hash);
          }
        }catch(e){/* noop */}
      });
    }

    // Listeners
    $$('.lang button').forEach(btn => btn.addEventListener('click', () => setLang(btn.getAttribute('data-lang'))));

    // Init: from ?lang, then localStorage, else RU
    (function init(){
      const urlLang = new URL(window.location.href).searchParams.get('lang');
      let storeLang = null;
      try { storeLang = localStorage.getItem('ecnova_lang'); } catch(e){}
      setLang(urlLang || storeLang || 'ru');
    })();
  </script>
</body>
</html>
